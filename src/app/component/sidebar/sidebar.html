@if (open) {
<div (click)="onClose()" class="fixed inset-0 bg-black/50 z-40 lg:hidden"></div>
}

<nav
  [ngClass]="{
    'translate-x-0': open,
    '-translate-x-full': !open
  }"
  class="bg-gray-900 shadow-lg h-screen fixed top-0 left-0 min-w-[260px] py-6 px-6 flex flex-col overflow-auto transition-transform duration-300 ease-in-out z-50 lg:translate-x-0"
>
  <button
    (click)="onClose()"
    class="absolute top-4 right-4 p-2 text-gray-400 hover:text-white lg:hidden"
  >
    <span class="material-icons text-gray-400 text-lg">close</span>
  </button>

  <div class="flex flex-wrap items-center cursor-pointer">
    <div class="relative">
      <img
        src="https://readymadeui.com/profile_2.webp"
        alt="Profile"
        class="w-12 h-12 rounded-full border-white"
      />
      <span
        class="h-3 w-3 rounded-full bg-green-600 border-2 border-white block absolute bottom-0 right-0"
      ></span>
    </div>

    <div class="ml-4">
      <p class="text-[15px] text-gray-200">{{ user?.username }}</p>
      <p class="text-xs text-gray-400 mt-0.5">{{ user?.role }}</p>
    </div>
  </div>

  <ul class="space-y-6 flex-1 mt-10 mb-10">
    <ng-container *ngFor="let item of menu">
      @if(hasPermission(item.authorities) || item.authorities.length === 0){
        <li>
          <a
            [routerLink]="item.link"
            class="text-gray-300 hover:text-teal-400 text-[15px] font-normal flex items-center rounded-md p-2 hover:bg-gray-800 transition-colors"
          >
            <i class="material-icons text-teal-500 text-[18px] mr-3">{{ item.icon }}</i>
            {{ item.label }}
          </a>
        </li>
      }
   <!-- <li *ngIf="hasPermission(item.authorities)">
        <a
          [routerLink]="item.link"
          class="text-gray-300 hover:text-teal-400 text-[15px] font-normal flex items-center rounded-md p-2 hover:bg-gray-800 transition-colors"
        >
          <i class="material-icons text-teal-500 text-[18px] mr-3">{{ item.icon }}</i>
          {{ item.label }}
        </a>
      </li>  -->
    </ng-container>
  </ul>

  <ul>
    <li>
      <a
        (click)="logout()"
        class="text-gray-300 hover:text-teal-400 text-[15px] font-normal flex items-center rounded-md cursor-pointer"
      >
        <i class="material-icons text-teal-500 mr-3">logout</i>
        <span>Logout</span>
      </a>
    </li>
  </ul>
</nav>
